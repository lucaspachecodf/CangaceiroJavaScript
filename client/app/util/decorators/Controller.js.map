{"version":3,"sources":["../../../app-src/util/decorators/Controller.js"],"names":["controller","seletores","elements","map","seletor","document","querySelector","constructor","constructorOriginal","constructorNovo","instance","Object","getOwnPropertyNames","prototype","forEach","property","Reflect","hasMetadata","associaEvento","getMetadata","metadado","selector","addEventListener","event","prevent","preventDefault","propertyKey"],"mappings":";;;AAAO,aAASA,UAAT,CAAoB,GAAGC,SAAvB,EAAkC;;AAErC,cAAMC,WAAWD,UAAUE,GAAV,CAAcC,WAAWC,SAASC,aAAT,CAAuBF,OAAvB,CAAzB,CAAjB;;AAEA,eAAO,UAAUG,WAAV,EAAuB;AAC1B,kBAAMC,sBAAsBD,WAA5B;;AAEA,kBAAME,kBAAkB,YAAY;;AAEhC,sBAAMC,WAAW,IAAIF,mBAAJ,CAAwB,GAAGN,QAA3B,CAAjB;;AAEAS,uBAAOC,mBAAP,CAA2BJ,oBAAoBK,SAA/C,EAEKC,OAFL,CAEaC,YAAY;AACjB,wBAAIC,QAAQC,WAAR,CAAoB,WAApB,EAAiCP,QAAjC,EAA2CK,QAA3C,CAAJ,EAA0D;AACtDG,sCAAcR,QAAd,EAAwBM,QAAQG,WAAR,CAAoB,WAApB,EAAiCT,QAAjC,EAA2CK,QAA3C,CAAxB;AACH;AACJ,iBANL;AAOH,aAXD;;AAaAN,4BAAgBI,SAAhB,GAA4BL,oBAAoBK,SAAhD;;AAEA,mBAAOJ,eAAP;AACH,SAnBD;AAoBH;;0BAxBeT,U;;AA0BhB,aAASkB,aAAT,CAAuBR,QAAvB,EAAiCU,QAAjC,EAA2C;AACvCf,iBACKC,aADL,CACmBc,SAASC,QAD5B,EAEKC,gBAFL,CAEsBF,SAASG,KAF/B,EAEsCA,SAAS;AACvC,gBAAIH,SAASI,OAAb,EAAsBD,MAAME,cAAN;AACtBf,qBAASU,SAASM,WAAlB,EAA+BH,KAA/B;AACH,SALL;AAMH","file":"Controller.js","sourcesContent":["export function controller(...seletores) {\r\n\r\n    const elements = seletores.map(seletor => document.querySelector(seletor))\r\n\r\n    return function (constructor) {\r\n        const constructorOriginal = constructor;\r\n\r\n        const constructorNovo = function () {\r\n\r\n            const instance = new constructorOriginal(...elements)\r\n\r\n            Object.getOwnPropertyNames(constructorOriginal.prototype)\r\n\r\n                .forEach(property => {\r\n                    if (Reflect.hasMetadata('bindEvent', instance, property)) {\r\n                        associaEvento(instance, Reflect.getMetadata('bindEvent', instance, property));\r\n                    }\r\n                });\r\n        }\r\n\r\n        constructorNovo.prototype = constructorOriginal.prototype;\r\n\r\n        return constructorNovo;\r\n    }\r\n}\r\n\r\nfunction associaEvento(instance, metadado) {\r\n    document\r\n        .querySelector(metadado.selector)\r\n        .addEventListener(metadado.event, event => {\r\n            if (metadado.prevent) event.preventDefault();\r\n            instance[metadado.propertyKey](event);\r\n        });\r\n}"]}